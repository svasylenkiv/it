# üöÄ Kubernetes (K8s) - –¢–µ–æ—Ä—ñ—è —Ç–∞ –û—Å–Ω–æ–≤—ã

## 1Ô∏è‚É£ –¢–µ–æ—Ä—ñ—è: –ë–∞–∑–æ–≤—ñ –ø–æ–Ω—è—Ç—Ç—è Kubernetes

### üìå –©–æ —Ç–∞–∫–µ Kubernetes (K8s)?

Kubernetes ‚Äî —Ü–µ —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω–æ–≥–æ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è, –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è —ñ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–æ–≤–∞–Ω–∏–º–∏ –¥–æ–¥–∞—Ç–∫–∞–º–∏.

### üì¶ –û—Å–Ω–æ–≤–Ω—ñ –æ–±'—î–∫—Ç–∏:

- **Pod** ‚Äì –Ω–∞–π–º–µ–Ω—à–∞ –æ–¥–∏–Ω–∏—Ü—è, —è–∫–∞ –º—ñ—Å—Ç–∏—Ç—å –æ–¥–∏–Ω –∞–±–æ –∫—ñ–ª—å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –Ω–∞—à Nginx).
- **Node** ‚Äì —Ñ—ñ–∑–∏—á–Ω–∏–π –∞–±–æ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–∏–π —Å–µ—Ä–≤–µ—Ä, –¥–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—å—Å—è Pod-–∏.
- **Cluster** ‚Äì –Ω–∞–±—ñ—Ä Node-—ñ–≤, —è–∫–∏–º–∏ –∫–µ—Ä—É—î Kubernetes.
- **Namespace** ‚Äì –ª–æ–≥—ñ—á–Ω–µ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤ –≤ –∫–ª–∞—Å—Ç–µ—Ä—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, dev, prod).

### ‚öô –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞:

- **kube-apiserver** ‚Äî –≥–æ–ª–æ–≤–Ω–∏–π –≤—Ö—ñ–¥ –¥–ª—è –≤—Å—ñ—Ö –∫–æ–º–∞–Ω–¥ (kubectl —Å–ø—ñ–ª–∫—É—î—Ç—å—Å—è –∑ –Ω–∏–º).
- **etcd** ‚Äî –±–∞–∑–∞ –¥–∞–Ω–∏—Ö —Å—Ç–∞–Ω—É –∫–ª–∞—Å—Ç–µ—Ä–∞.
- **scheduler** ‚Äî –≤–∏—Ä—ñ—à—É—î, –Ω–∞ —è–∫–æ–º—É Node –∑–∞–ø—É—Å—Ç–∏—Ç–∏ Pod.
- **controller-manager** ‚Äî –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫—É –±–∞–∂–∞–Ω–æ–≥–æ —Å—Ç–∞–Ω—É.
- **kubelet** ‚Äî –∞–≥–µ–Ω—Ç –Ω–∞ –∫–æ–∂–Ω–æ–º—É Node, —è–∫–∏–π –∑–∞–ø—É—Å–∫–∞—î –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏.
- **kube-proxy** ‚Äî –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ –º–µ—Ä–µ–∂–µ–≤—É –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—é –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–ª–∞—Å—Ç–µ—Ä–∞.

### üìù Declarative Model

–¢–∏ –æ–ø–∏—Å—É—î—à —É YAML-—Ñ–∞–π–ª—ñ –±–∞–∂–∞–Ω–∏–π —Å—Ç–∞–Ω (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, "–º–∞—é –º–∞—Ç–∏ 1 pod –∑ nginx"), Kubernetes –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ–¥—Ç—Ä–∏–º—É—î —Ü–µ–π —Å—Ç–∞–Ω.

## 2Ô∏è‚É£ Ingress —Ç–∞ –º–µ—Ä–µ–∂–µ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏

### 1. –©–æ —Ç–∞–∫–µ Ingress?

Ingress ‚Äî —Ü–µ —Ä–µ—Å—É—Ä—Å —É Kubernetes, —è–∫–∏–π –æ–ø–∏—Å—É—î –ø—Ä–∞–≤–∏–ª–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—ó HTTP/HTTPS —Ç—Ä–∞—Ñ—ñ–∫—É –∑–∑–æ–≤–Ω—ñ –≤ –∫–ª–∞—Å—Ç–µ—Ä.

**Ingress Controller** ‚Äî —Ü–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, —è–∫–∏–π —á–∏—Ç–∞—î —Ü—ñ –ø—Ä–∞–≤–∏–ª–∞ —ñ –≤–∏–∫–æ–Ω—É—î —ó—Ö. –ù–∞–π–ø–æ–ø—É–ª—è—Ä–Ω—ñ—à–∏–π ‚Äî NGINX Ingress Controller.

#### –û—Å–Ω–æ–≤–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó:

- –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—è –∑–∞ –¥–æ–º–µ–Ω–æ–º (myapi.local, app.local).
- –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—è –∑–∞ —à–ª—è—Ö–æ–º (/api, /web).
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ TLS (HTTPS) –∑ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∞–º–∏.
- –ë–∞–ª–∞–Ω—Å—É–≤–∞–Ω–Ω—è –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º—ñ–∂ Pod-–∞–º–∏.

### 2. Service

**Service** ‚Äî —Ü–µ –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—è, —è–∫–∞ –≤–∏–∑–Ω–∞—á–∞—î –ª–æ–≥—ñ—á–Ω–∏–π –Ω–∞–±—ñ—Ä Pod-—ñ–≤ —Ç–∞ –ø–æ–ª—ñ—Ç–∏–∫—É –¥–æ—Å—Ç—É–ø—É –¥–æ –Ω–∏—Ö.

#### –¢–∏–ø–∏ Service:

- **ClusterIP** ‚Äî –¥–æ—Å—Ç—É–ø —Ç—ñ–ª—å–∫–∏ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–ª–∞—Å—Ç–µ—Ä–∞
- **NodePort** ‚Äî –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ –ø–æ—Ä—Ç –Ω–∞ –∫–æ–∂–Ω–æ–º—É Node
- **LoadBalancer** ‚Äî –∑–æ–≤–Ω—ñ—à–Ω—ñ–π –±–∞–ª–∞–Ω—Å—É–≤–∞–ª—å–Ω–∏–∫ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
- **ExternalName** ‚Äî –∑–æ–≤–Ω—ñ—à–Ω—ñ–π DNS

## 3Ô∏è‚É£ –†–æ–±–æ—Ç–∞ –∑ —Ä–µ—Å—É—Ä—Å–∞–º–∏

### üìã –û—Å–Ω–æ–≤–Ω—ñ –∫–æ–º–∞–Ω–¥–∏ kubectl:

```bash
# –ü–µ—Ä–µ–≥–ª—è–¥ —Ä–µ—Å—É—Ä—Å—ñ–≤
kubectl get pods
kubectl get services
kubectl get deployments

# –î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è
kubectl describe pod <pod-name>
kubectl describe service <service-name>

# –õ–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
kubectl logs <pod-name>

# –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
kubectl exec -it <pod-name> -- /bin/bash

# –ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è YAML —Ñ–∞–π–ª—É
kubectl apply -f <filename.yaml>

# –í–∏–¥–∞–ª–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—É
kubectl delete pod <pod-name>
```

### üîß YAML —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: nginx-pod
  labels:
    app: nginx
spec:
  containers:
  - name: nginx
    image: nginx:latest
    ports:
    - containerPort: 80
```

## 4Ô∏è‚É£ Deployment —Ç–∞ ReplicaSet

### üöÄ Deployment

**Deployment** ‚Äî —Ü–µ —Ä–µ—Å—É—Ä—Å –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è Pod-–∞–º–∏ –∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –≤—ñ–¥–∫–∞—Ç—É.

#### –û—Å–Ω–æ–≤–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ:

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è ReplicaSet
- Rolling update –±–µ–∑ –ø—Ä–æ—Å—Ç–æ—é
- Rollback –¥–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ—ó –≤–µ—Ä—Å—ñ—ó
- –ú–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Ä–µ–ø–ª—ñ–∫

### üìä ReplicaSet

**ReplicaSet** ‚Äî –∑–∞–±–µ–∑–ø–µ—á—É—î, —â–æ –≤–∫–∞–∑–∞–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å Pod-—ñ–≤ –∑–∞–≤–∂–¥–∏ –∑–∞–ø—É—â–µ–Ω–∞.

## 5Ô∏è‚É£ ConfigMap —Ç–∞ Secret

### ‚öôÔ∏è ConfigMap

**ConfigMap** ‚Äî –∑–±–µ—Ä—ñ–≥–∞—î –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω—ñ –¥–∞–Ω—ñ —É —Ñ–æ—Ä–º–∞—Ç—ñ –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–Ω—è.

### üîê Secret

**Secret** ‚Äî –∑–±–µ—Ä—ñ–≥–∞—î —á—É—Ç–ª–∏–≤—ñ –¥–∞–Ω—ñ (–ø–∞—Ä–æ–ª—ñ, —Ç–æ–∫–µ–Ω–∏, —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∏).

## 6Ô∏è‚É£ Volumes —Ç–∞ Persistent Storage

### üíæ Volumes

- **emptyDir** ‚Äî —Ç–∏–º—á–∞—Å–æ–≤–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è
- **hostPath** ‚Äî –¥–æ—Å—Ç—É–ø –¥–æ —Ñ–∞–π–ª–æ–≤–æ—ó —Å–∏—Å—Ç–µ–º–∏ Node
- **PersistentVolumeClaim** ‚Äî –ø–æ—Å—Ç—ñ–π–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è

### üóÑÔ∏è PersistentVolume

**PersistentVolume** ‚Äî —Ñ—ñ–∑–∏—á–Ω–∏–π —Ä–µ—Å—É—Ä—Å –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –≤ –∫–ª–∞—Å—Ç–µ—Ä—ñ.

## 7Ô∏è‚É£ –ë–µ–∑–ø–µ–∫–∞ —Ç–∞ RBAC

### üîí RBAC (Role-Based Access Control)

- **Role** ‚Äî –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É –≤ –º–µ–∂–∞—Ö Namespace
- **ClusterRole** ‚Äî –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É –≤ –º–µ–∂–∞—Ö –∫–ª–∞—Å—Ç–µ—Ä–∞
- **RoleBinding** ‚Äî –ø—Ä–∏–≤'—è–∑–∫–∞ —Ä–æ–ª—ñ –¥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞/–≥—Ä—É–ø–∏
- **ServiceAccount** ‚Äî –æ–±–ª—ñ–∫–æ–≤–∏–π –∑–∞–ø–∏—Å –¥–ª—è Pod-—ñ–≤

### üõ°Ô∏è Network Policies

**NetworkPolicy** ‚Äî –ø—Ä–∞–≤–∏–ª–∞ –º–µ—Ä–µ–∂–µ–≤–æ—ó –±–µ–∑–ø–µ–∫–∏ –º—ñ–∂ Pod-–∞–º–∏.

## 8Ô∏è‚É£ –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –ª–æ–≥—É–≤–∞–Ω–Ω—è

### üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

- **Metrics Server** ‚Äî –∑–±—ñ—Ä –º–µ—Ç—Ä–∏–∫ –∑ Node-—ñ–≤ —Ç–∞ Pod-—ñ–≤
- **Prometheus** ‚Äî –∑–±—ñ—Ä —Ç–∞ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –º–µ—Ç—Ä–∏–∫
- **Grafana** ‚Äî –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –º–µ—Ç—Ä–∏–∫

### üìù –õ–æ–≥—É–≤–∞–Ω–Ω—è

- **Fluentd** ‚Äî –∑–±—ñ—Ä –ª–æ–≥—ñ–≤
- **Elasticsearch** ‚Äî –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –ª–æ–≥—ñ–≤
- **Kibana** ‚Äî –ø–æ—à—É–∫ —Ç–∞ –∞–Ω–∞–ª—ñ–∑ –ª–æ–≥—ñ–≤

## 9Ô∏è‚É£ Helm —Ç–∞ Package Management

### üì¶ Helm

**Helm** ‚Äî –º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç—ñ–≤ –¥–ª—è Kubernetes.

#### –û—Å–Ω–æ–≤–Ω—ñ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—ó:

- **Chart** ‚Äî –ø–∞–∫–µ—Ç –∑ –æ–ø–∏—Å–æ–º —Ä–µ—Å—É—Ä—Å—ñ–≤
- **Release** ‚Äî —ñ–Ω—Å—Ç–∞–Ω—Å Chart –≤ –∫–ª–∞—Å—Ç–µ—Ä—ñ
- **Repository** ‚Äî —Å—Ö–æ–≤–∏—â–µ Chart-—ñ–≤

## üîü Best Practices

### ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó:

1. **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π Labels —Ç–∞ Annotations** –¥–ª—è –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó —Ä–µ—Å—É—Ä—Å—ñ–≤
2. **–ó–∞—Å—Ç–æ—Å–æ–≤—É–π Resource Limits** –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—é –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤
3. **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π Health Checks** (liveness —Ç–∞ readiness probes)
4. **–ó–∞—Å—Ç–æ—Å–æ–≤—É–π Rolling Updates** –¥–ª—è –±–µ–∑–ø–µ—Ä–µ—Ä–≤–Ω–æ—Å—Ç—ñ —Å–µ—Ä–≤—ñ—Å—É
5. **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π Namespaces** –¥–ª—è –ª–æ–≥—ñ—á–Ω–æ–≥–æ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è
6. **–ó–∞—Å—Ç–æ—Å–æ–≤—É–π Network Policies** –¥–ª—è –±–µ–∑–ø–µ–∫–∏
7. **–ú–æ–Ω—ñ—Ç–æ—Ä—å —Ä–µ—Å—É—Ä—Å–∏** —Ç–∞ –Ω–∞–ª–∞—à—Ç–æ–≤—É–π –∞–≤—Ç–æ–º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è

### ‚ùå –ü–æ—à–∏—Ä–µ–Ω—ñ –ø–æ–º–∏–ª–∫–∏:

- –ù–µ –≤—Å—Ç–∞–Ω–æ–≤–ª—é–≤–∞—Ç–∏ resource limits
- –Ü–≥–Ω–æ—Ä—É–≤–∞—Ç–∏ health checks
- –ù–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ labels
- –ó–∞–±—É–≤–∞—Ç–∏ –ø—Ä–æ –±–µ–∑–ø–µ–∫—É –º–µ—Ä–µ–∂—ñ
- –ù–µ –º–æ–Ω—ñ—Ç–æ—Ä–∏—Ç–∏ –∫–ª–∞—Å—Ç–µ—Ä

---

## üìö –ö–æ—Ä–∏—Å–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏:

- [–û—Ñ—ñ—Ü—ñ–π–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è Kubernetes](https://kubernetes.io/docs/)
- [Kubernetes Examples](https://github.com/kubernetes/examples)
- [Kubernetes Cheat Sheet](https://kubernetes.io/docs/reference/kubectl/cheatsheet/)
- [Helm Documentation](https://helm.sh/docs/)

## üéØ –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏:

1. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ Minikube –∞–±–æ Docker Desktop –∑ Kubernetes
2. –°—Ç–≤–æ—Ä–∏—Ç–∏ –ø–µ—Ä—à–∏–π Pod —Ç–∞ Service
3. –í–∏–≤—á–∏—Ç–∏ –æ—Å–Ω–æ–≤–Ω—ñ –∫–æ–º–∞–Ω–¥–∏ kubectl
4. –°—Ç–≤–æ—Ä–∏—Ç–∏ Deployment –∑ rolling update
5. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ Ingress –¥–ª—è –∑–æ–≤–Ω—ñ—à–Ω—å–æ–≥–æ –¥–æ—Å—Ç—É–ø—É
6. –î–æ—Å–ª—ñ–¥–∏—Ç–∏ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –ª–æ–≥—É–≤–∞–Ω–Ω—è 