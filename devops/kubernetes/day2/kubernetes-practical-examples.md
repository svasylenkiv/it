# üõ†Ô∏è –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ Kubernetes

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É
```
my-kubernetes-project/
‚îú‚îÄ‚îÄ manifests/
‚îÇ   ‚îú‚îÄ‚îÄ 01-basics/
‚îÇ   ‚îú‚îÄ‚îÄ 02-deployments/
‚îÇ   ‚îú‚îÄ‚îÄ 03-ingress/
‚îÇ   ‚îú‚îÄ‚îÄ 04-configs/
‚îÇ   ‚îú‚îÄ‚îÄ 05-storage/
‚îÇ   ‚îú‚îÄ‚îÄ 06-health-checks/
‚îÇ   ‚îú‚îÄ‚îÄ 07-hpa/
‚îÇ   ‚îú‚îÄ‚îÄ 08-rbac/
‚îÇ   ‚îú‚îÄ‚îÄ 09-helm/
‚îÇ   ‚îî‚îÄ‚îÄ 10-monitoring/
‚îú‚îÄ‚îÄ helm-charts/
‚îú‚îÄ‚îÄ scripts/
‚îî‚îÄ‚îÄ README.md
```

---

## üîπ 1. –ë–∞–∑–æ–≤—ñ –∫–æ–º–∞–Ω–¥–∏

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–ª–∞—Å—Ç–µ—Ä–∞
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É –∫–ª–∞—Å—Ç–µ—Ä–∞
kubectl cluster-info
kubectl get nodes
kubectl get namespaces

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–µ—Ä—Å—ñ—ó
kubectl version --client
kubectl version --short
```

### –†–æ–±–æ—Ç–∞ –∑ Pod
```bash
# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Pod
kubectl run nginx-pod --image=nginx:latest --port=80

# –ü–µ—Ä–µ–≥–ª—è–¥ Pod
kubectl get pods
kubectl get pods -o wide
kubectl describe pod nginx-pod

# –õ–æ–≥–∏ Pod
kubectl logs nginx-pod
kubectl logs -f nginx-pod

# –í–∏–∫–æ–Ω–∞–Ω–Ω—è –∫–æ–º–∞–Ω–¥ –≤ Pod
kubectl exec -it nginx-pod -- /bin/bash
kubectl exec nginx-pod -- nginx -v

# –í–∏–¥–∞–ª–µ–Ω–Ω—è Pod
kubectl delete pod nginx-pod
```

---

## üîπ 2. Deployment —Ç–∞ Service

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Deployment
```yaml
# manifests/02-deployments/api-deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: api-deployment
  labels:
    app: api
spec:
  replicas: 3
  selector:
    matchLabels:
      app: api
  template:
    metadata:
      labels:
        app: api
    spec:
      containers:
      - name: api
        image: your-api:latest
        ports:
        - containerPort: 8080
        resources:
          requests:
            memory: "64Mi"
            cpu: "250m"
          limits:
            memory: "128Mi"
            cpu: "500m"
```

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Service
```yaml
# manifests/02-deployments/api-service.yaml
apiVersion: v1
kind: Service
metadata:
  name: api-service
  labels:
    app: api
spec:
  type: ClusterIP
  selector:
    app: api
  ports:
  - port: 80
    targetPort: 8080
    protocol: TCP
```

### –ö–æ–º–∞–Ω–¥–∏ –¥–ª—è —Ä–æ–±–æ—Ç–∏
```bash
# –ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –º–∞–Ω—ñ—Ñ–µ—Å—Ç—ñ–≤
kubectl apply -f manifests/02-deployments/

# –ü–µ—Ä–µ–≥–ª—è–¥ —Ä–µ—Å—É—Ä—Å—ñ–≤
kubectl get deployments
kubectl get services
kubectl get endpoints

# –ú–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è
kubectl scale deployment api-deployment --replicas=5

# –û–Ω–æ–≤–ª–µ–Ω–Ω—è –æ–±—Ä–∞–∑—É
kubectl set image deployment/api-deployment api=your-api:v2.0.0

# –Ü—Å—Ç–æ—Ä—ñ—è –æ–Ω–æ–≤–ª–µ–Ω—å
kubectl rollout history deployment/api-deployment

# –í—ñ–¥–∫–∞—Ç –¥–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ—ó –≤–µ—Ä—Å—ñ—ó
kubectl rollout undo deployment/api-deployment
```

---

## üîπ 3. Ingress —Ç–∞ TLS

### –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Nginx Ingress Controller
```bash
# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è
kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.8.2/deploy/static/provider/cloud/deploy.yaml

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É
kubectl get pods -n ingress-nginx
kubectl get svc -n ingress-nginx
```

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Ingress
```yaml
# manifests/03-ingress/api-ingress.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: api-ingress
  annotations:
    nginx.ingress.kubernetes.io/rewrite-target: /
    nginx.ingress.kubernetes.io/ssl-redirect: "true"
spec:
  tls:
  - hosts:
    - myapi.local
    secretName: api-tls-secret
  rules:
  - host: myapi.local
    http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: api-service
            port:
              number: 80
```

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è TLS Secret
```bash
# –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞
openssl genrsa -out tls.key 2048

# –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∞
openssl req -new -x509 -key tls.key -out tls.crt -days 365 -subj "/CN=myapi.local"

# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Secret
kubectl create secret tls api-tls-secret --key tls.key --cert tls.crt
```

---

## üîπ 4. ConfigMaps —Ç–∞ Secrets

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è ConfigMap
```yaml
# manifests/04-configs/api-configmap.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: api-config
data:
  DATABASE_URL: "postgresql://localhost:5432/mydb"
  API_VERSION: "1.0.0"
  LOG_LEVEL: "INFO"
  MAX_CONNECTIONS: "100"
```

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Secret
```yaml
# manifests/04-configs/api-secret.yaml
apiVersion: v1
kind: Secret
metadata:
  name: api-secret
type: Opaque
data:
  username: YWRtaW4=  # admin
  password: cGFzc3dvcmQ=  # password
  api-key: c2VjcmV0LWtleQ==  # secret-key
```

### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ Deployment
```yaml
# manifests/04-configs/api-deployment-with-config.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: api-deployment
spec:
  # ... existing spec ...
  template:
    spec:
      containers:
      - name: api
        image: your-api:latest
        env:
        - name: DATABASE_URL
          valueFrom:
            configMapKeyRef:
              name: api-config
              key: DATABASE_URL
        - name: API_KEY
          valueFrom:
            secretKeyRef:
              name: api-secret
              key: api-key
        volumeMounts:
        - name: config-volume
          mountPath: /app/config
      volumes:
      - name: config-volume
        configMap:
          name: api-config
```

---

## üîπ 5. Storage —Ç–∞ StatefulSet

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è StorageClass
```yaml
# manifests/05-storage/storage-class.yaml
apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: local-storage
provisioner: kubernetes.io/no-provisioner
volumeBindingMode: WaitForFirstConsumer
```

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è PersistentVolume
```yaml
# manifests/05-storage/postgres-pv.yaml
apiVersion: v1
kind: PersistentVolume
metadata:
  name: postgres-pv
spec:
  capacity:
    storage: 10Gi
  accessModes:
  - ReadWriteOnce
  persistentVolumeReclaimPolicy: Retain
  storageClassName: local-storage
  hostPath:
    path: /mnt/data/postgres
```

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è StatefulSet
```yaml
# manifests/05-storage/postgres-statefulset.yaml
apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: postgres
spec:
  serviceName: postgres
  replicas: 1
  selector:
    matchLabels:
      app: postgres
  template:
    metadata:
      labels:
        app: postgres
    spec:
      containers:
      - name: postgres
        image: postgres:13
        env:
        - name: POSTGRES_DB
          value: mydb
        - name: POSTGRES_USER
          value: admin
        - name: POSTGRES_PASSWORD
          valueFrom:
            secretKeyRef:
              name: postgres-secret
              key: password
        ports:
        - containerPort: 5432
        volumeMounts:
        - name: postgres-storage
          mountPath: /var/lib/postgresql/data
  volumeClaimTemplates:
  - metadata:
      name: postgres-storage
    spec:
      accessModes: [ "ReadWriteOnce" ]
      storageClassName: local-storage
      resources:
        requests:
          storage: 10Gi
```

---

## üîπ 6. Health Checks

### Readiness —Ç–∞ Liveness Probes
```yaml
# manifests/06-health-checks/api-deployment-health.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: api-deployment
spec:
  # ... existing spec ...
  template:
    spec:
      containers:
      - name: api
        image: your-api:latest
        ports:
        - containerPort: 8080
        livenessProbe:
          httpGet:
            path: /health/live
            port: 8080
          initialDelaySeconds: 30
          periodSeconds: 10
          timeoutSeconds: 5
          failureThreshold: 3
        readinessProbe:
          httpGet:
            path: /health/ready
            port: 8080
          initialDelaySeconds: 5
          periodSeconds: 5
          timeoutSeconds: 3
          failureThreshold: 3
        startupProbe:
          httpGet:
            path: /health/startup
            port: 8080
          failureThreshold: 30
          periodSeconds: 10
```

### Health Endpoints –≤ API
```csharp
// .NET
app.MapGet("/health/live", () => Results.Ok("Alive"));
app.MapGet("/health/ready", () => 
{
    // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑'—î–¥–Ω–∞–Ω–Ω—è –∑ –ë–î
    try
    {
        // db.Ping();
        return Results.Ok("Ready");
    }
    catch
    {
        return Results.ServiceUnavailable("Not Ready");
    }
});
app.MapGet("/health/startup", () => Results.Ok("Started"));
```

```javascript
// Node.js
app.get('/health/live', (req, res) => res.status(200).send('Alive'));
app.get('/health/ready', async (req, res) => {
    try {
        // await db.ping();
        res.status(200).send('Ready');
    } catch (error) {
        res.status(503).send('Not Ready');
    }
});
app.get('/health/startup', (req, res) => res.status(200).send('Started'));
```

---

## üîπ 7. Horizontal Pod Autoscaler

### –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è metrics-server
```bash
# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è
kubectl apply -f https://github.com/kubernetes-sigs/metrics-server/releases/latest/download/components.yaml

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞
kubectl get pods -n kube-system | grep metrics-server
```

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è HPA
```yaml
# manifests/07-hpa/api-hpa.yaml
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: api-hpa
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: api-deployment
  minReplicas: 1
  maxReplicas: 10
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
  - type: Resource
    resource:
      name: memory
      target:
        type: Utilization
        averageUtilization: 80
  behavior:
    scaleUp:
      stabilizationWindowSeconds: 60
      policies:
      - type: Percent
        value: 100
        periodSeconds: 15
    scaleDown:
      stabilizationWindowSeconds: 300
      policies:
      - type: Percent
        value: 10
        periodSeconds: 60
```

### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è HPA
```bash
# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
kubectl run -i --tty load-generator --rm --image=busybox --restart=Never -- /bin/sh -c "while sleep 0.01; do wget -q -O- http://api-service; done"

# –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ HPA
kubectl get hpa
kubectl describe hpa api-hpa

# –ü–µ—Ä–µ–≥–ª—è–¥ –º–µ—Ç—Ä–∏–∫
kubectl top pods
kubectl top nodes
```

---

## üîπ 8. RBAC —Ç–∞ Namespaces

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Namespace
```yaml
# manifests/08-rbac/development-namespace.yaml
apiVersion: v1
kind: Namespace
metadata:
  name: development
  labels:
    environment: dev
    team: developers
```

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è ServiceAccount
```yaml
# manifests/08-rbac/developer-sa.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: developer-sa
  namespace: development
```

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Role
```yaml
# manifests/08-rbac/developer-role.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  namespace: development
  name: developer-role
rules:
- apiGroups: [""]
  resources: ["pods", "services", "configmaps", "secrets"]
  verbs: ["get", "list", "create", "update", "delete"]
- apiGroups: ["apps"]
  resources: ["deployments", "statefulsets"]
  verbs: ["get", "list", "create", "update", "delete"]
- apiGroups: ["networking.k8s.io"]
  resources: ["ingresses"]
  verbs: ["get", "list", "create", "update", "delete"]
```

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è RoleBinding
```yaml
# manifests/08-rbac/developer-binding.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: developer-binding
  namespace: development
subjects:
- kind: ServiceAccount
  name: developer-sa
  namespace: development
roleRef:
  kind: Role
  name: developer-role
  apiGroup: rbac.authorization.k8s.io
```

---

## üîπ 9. Helm Charts

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Helm Chart
```bash
# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Chart
helm create my-api

# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Chart
my-api/
‚îú‚îÄ‚îÄ Chart.yaml
‚îú‚îÄ‚îÄ values.yaml
‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îú‚îÄ‚îÄ _helpers.tpl
‚îÇ   ‚îú‚îÄ‚îÄ deployment.yaml
‚îÇ   ‚îú‚îÄ‚îÄ service.yaml
‚îÇ   ‚îú‚îÄ‚îÄ ingress.yaml
‚îÇ   ‚îî‚îÄ‚îÄ NOTES.txt
‚îî‚îÄ‚îÄ charts/
```

### Chart.yaml
```yaml
# helm-charts/my-api/Chart.yaml
apiVersion: v2
name: my-api
description: A Helm chart for My API
type: application
version: 0.1.0
appVersion: "1.0.0"
```

### values.yaml
```yaml
# helm-charts/my-api/values.yaml
replicaCount: 3

image:
  repository: my-api
  tag: latest
  pullPolicy: IfNotPresent

imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""

serviceAccount:
  create: true
  annotations: {}
  name: ""

service:
  type: ClusterIP
  port: 80

ingress:
  enabled: true
  className: "nginx"
  annotations:
    nginx.ingress.kubernetes.io/rewrite-target: /
  hosts:
    - host: myapi.local
      paths:
        - path: /
          pathType: Prefix
  tls:
    - secretName: my-api-tls
      hosts:
        - myapi.local

resources:
  limits:
    cpu: 500m
    memory: 512Mi
  requests:
    cpu: 250m
    memory: 256Mi

autoscaling:
  enabled: true
  minReplicas: 1
  maxReplicas: 10
  targetCPUUtilizationPercentage: 80
```

### –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è Chart
```bash
# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è
helm install my-api ./helm-charts/my-api

# –û–Ω–æ–≤–ª–µ–Ω–Ω—è
helm upgrade my-api ./helm-charts/my-api

# –ü–µ—Ä–µ–≥–ª—è–¥ —Å—Ç–∞—Ç—É—Å—É
helm list
helm status my-api

# –í–∏–¥–∞–ª–µ–Ω–Ω—è
helm uninstall my-api
```

---

## üîπ 10. CI/CD Pipeline

### GitHub Actions
```yaml
# .github/workflows/deploy.yml
name: Deploy to Kubernetes

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

env:
  REGISTRY: ghcr.io
  IMAGE_NAME: ${{ github.repository }}

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    permissions:
      contents: read
      packages: write

    steps:
    - name: Checkout code
      uses: actions/checkout@v4

    - name: Set up Docker Buildx
      uses: docker/setup-buildx-action@v3

    - name: Log in to Container Registry
      uses: docker/login-action@v3
      with:
        registry: ${{ env.REGISTRY }}
        username: ${{ github.actor }}
        password: ${{ secrets.GITHUB_TOKEN }}

    - name: Build and push Docker image
      uses: docker/build-push-action@v5
      with:
        context: .
        push: true
        tags: ${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}:${{ github.sha }}
        tags: ${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}:latest

    - name: Deploy to Kubernetes
      run: |
        echo "${{ secrets.KUBE_CONFIG }}" | base64 -d > kubeconfig.yaml
        export KUBECONFIG=kubeconfig.yaml
        
        # Update deployment image
        kubectl set image deployment/api-deployment api=${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}:${{ github.sha }}
        
        # Wait for rollout
        kubectl rollout status deployment/api-deployment --timeout=300s
```

### GitLab CI
```yaml
# .gitlab-ci.yml
stages:
  - build
  - deploy

variables:
  DOCKER_DRIVER: overlay2
  DOCKER_TLS_CERTDIR: "/certs"

build:
  stage: build
  image: docker:latest
  services:
    - docker:dind
  before_script:
    - docker login -u $CI_REGISTRY_USER -p $CI_REGISTRY_PASSWORD $CI_REGISTRY
  script:
    - docker build -t $CI_REGISTRY_IMAGE:$CI_COMMIT_SHA .
    - docker push $CI_REGISTRY_IMAGE:$CI_COMMIT_SHA
    - docker tag $CI_REGISTRY_IMAGE:$CI_COMMIT_SHA $CI_REGISTRY_IMAGE:latest
    - docker push $CI_REGISTRY_IMAGE:latest
  only:
    - main

deploy:
  stage: deploy
  image: bitnami/kubectl:latest
  before_script:
    - echo "$KUBE_CONFIG" | base64 -d > kubeconfig.yaml
    - export KUBECONFIG=kubeconfig.yaml
  script:
    - kubectl set image deployment/api-deployment api=$CI_REGISTRY_IMAGE:$CI_COMMIT_SHA
    - kubectl rollout status deployment/api-deployment --timeout=300s
  only:
    - main
```

---

## üîπ 11. –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –ª–æ–≥—É–≤–∞–Ω–Ω—è

### Prometheus + Grafana
```bash
# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ Helm
helm repo add prometheus-community https://prometheus-community.github.io/helm-charts
helm repo update

# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è
helm install prometheus prometheus-community/kube-prometheus-stack \
  --namespace monitoring \
  --create-namespace

# –î–æ—Å—Ç—É–ø –¥–æ Grafana
kubectl port-forward -n monitoring svc/prometheus-grafana 3000:80
# –õ–æ–≥—ñ–Ω: admin, –ü–∞—Ä–æ–ª—å: prom-operator
```

### EFK Stack
```bash
# Elasticsearch
kubectl apply -f https://download.elastic.co/downloads/eck/2.8.0/crds.yaml
kubectl apply -f https://download.elastic.co/downloads/eck/2.8.0/operator.yaml

# Fluentd
kubectl apply -f https://raw.githubusercontent.com/fluent/fluentd-kubernetes-daemonset/master/fluentd-daemonset-elasticsearch.yaml

# Kibana
kubectl apply -f https://raw.githubusercontent.com/elastic/kibana/master/deploy/kubernetes/kibana.yaml
```

### –ë–∞–∑–æ–≤—ñ –∫–æ–º–∞–Ω–¥–∏ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É
```bash
# –õ–æ–≥–∏
kubectl logs -f deployment/api-deployment
kubectl logs -f deployment/api-deployment --tail=100

# –ú–µ—Ç—Ä–∏–∫–∏
kubectl top pods
kubectl top nodes
kubectl top pods --containers

# –ü–æ–¥—ñ—ó
kubectl get events --sort-by='.lastTimestamp'
kubectl get events --field-selector involvedObject.name=api-deployment

# –û–ø–∏—Å —Ä–µ—Å—É—Ä—Å—ñ–≤
kubectl describe pod <pod-name>
kubectl describe deployment api-deployment
kubectl describe service api-service
```

---

## üîπ 12. –•–º–∞—Ä–Ω–µ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è

### AWS EKS
```bash
# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è eksctl
curl --silent --location "https://github.com/weaveworks/eksctl/releases/latest/download/eksctl_$(uname -s)_amd64.tar.gz" | tar xz -C /tmp
sudo mv /tmp/eksctl /usr/local/bin

# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–ª–∞—Å—Ç–µ—Ä—É
eksctl create cluster \
  --name my-cluster \
  --region us-west-2 \
  --nodegroup-name standard-workers \
  --node-type t3.medium \
  --nodes 3 \
  --nodes-min 1 \
  --nodes-max 4 \
  --managed

# –û–Ω–æ–≤–ª–µ–Ω–Ω—è kubeconfig
aws eks update-kubeconfig --name my-cluster --region us-west-2

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞
kubectl get nodes
kubectl cluster-info
```

### Azure AKS
```bash
# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–ª–∞—Å—Ç–µ—Ä—É
az aks create \
  --resource-group myResourceGroup \
  --name myAKSCluster \
  --node-count 3 \
  --enable-addons monitoring \
  --generate-ssh-keys \
  --node-vm-size Standard_DS2_v2

# –û—Ç—Ä–∏–º–∞–Ω–Ω—è credentials
az aks get-credentials --resource-group myResourceGroup --name myAKSCluster

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞
kubectl get nodes
kubectl cluster-info
```

### GCP GKE
```bash
# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–ª–∞—Å—Ç–µ—Ä—É
gcloud container clusters create my-gke-cluster \
  --zone us-central1-a \
  --num-nodes 3 \
  --machine-type e2-medium \
  --enable-autoscaling \
  --min-nodes 1 \
  --max-nodes 5

# –û—Ç—Ä–∏–º–∞–Ω–Ω—è credentials
gcloud container clusters get-credentials my-gke-cluster --zone us-central1-a

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞
kubectl get nodes
kubectl cluster-info
```

---

## üìù –ö–æ—Ä–∏—Å–Ω—ñ —Å–∫—Ä–∏–ø—Ç–∏

### –°–∫—Ä–∏–ø—Ç –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
```bash
#!/bin/bash
# scripts/setup-environment.sh

echo "üöÄ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Kubernetes —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞..."

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ kubectl
if ! command -v kubectl &> /dev/null; then
    echo "‚ùå kubectl –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å kubectl —Å–ø–æ—á–∞—Ç–∫—É."
    exit 1
fi

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–ª–∞—Å—Ç–µ—Ä–∞
if ! kubectl cluster-info &> /dev/null; then
    echo "‚ùå –ö–ª–∞—Å—Ç–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –∫–ª–∞—Å—Ç–µ—Ä —Å–ø–æ—á–∞—Ç–∫—É."
    exit 1
fi

echo "‚úÖ –ö–ª–∞—Å—Ç–µ—Ä –¥–æ—Å—Ç—É–ø–Ω–∏–π"

# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è namespace
kubectl create namespace development --dry-run=client -o yaml | kubectl apply -f -
kubectl create namespace monitoring --dry-run=client -o yaml | kubectl apply -f -

# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Nginx Ingress Controller
echo "üì¶ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Nginx Ingress Controller..."
kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.8.2/deploy/static/provider/cloud/deploy.yaml

# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è metrics-server
echo "üìä –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è metrics-server..."
kubectl apply -f https://github.com/kubernetes-sigs/metrics-server/releases/latest/download/components.yaml

echo "‚úÖ –°–µ—Ä–µ–¥–æ–≤–∏—â–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ!"
echo "üåê Namespaces:"
kubectl get namespaces
echo "üîß Ingress Controller:"
kubectl get pods -n ingress-nginx
```

### –°–∫—Ä–∏–ø—Ç –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É —Ä–µ—Å—É—Ä—Å—ñ–≤
```bash
#!/bin/bash
# scripts/monitor-resources.sh

NAMESPACE=${1:-default}

echo "üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å—ñ–≤ –≤ namespace: $NAMESPACE"
echo "================================================"

echo "üîç Pods:"
kubectl get pods -n $NAMESPACE

echo ""
echo "üìà Top Pods (CPU/Memory):"
kubectl top pods -n $NAMESPACE

echo ""
echo "üîó Services:"
kubectl get services -n $NAMESPACE

echo ""
echo "üåê Ingress:"
kubectl get ingress -n $NAMESPACE

echo ""
echo "üíæ Persistent Volumes:"
kubectl get pv,pvc -n $NAMESPACE

echo ""
echo "üìã Events (–æ—Å—Ç–∞–Ω–Ω—ñ 10):"
kubectl get events -n $NAMESPACE --sort-by='.lastTimestamp' | tail -10
```

---

## üéØ –§—ñ–Ω–∞–ª—å–Ω–∏–π –ø—Ä–æ–µ–∫—Ç - –ü–æ–≤–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É
```
production-app/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ tests/
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ infrastructure/
‚îÇ   ‚îú‚îÄ‚îÄ kubernetes/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ namespaces/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ monitoring/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ingress/
‚îÇ   ‚îú‚îÄ‚îÄ helm-charts/
‚îÇ   ‚îî‚îÄ‚îÄ terraform/
‚îú‚îÄ‚îÄ ci-cd/
‚îÇ   ‚îú‚îÄ‚îÄ .github/
‚îÇ   ‚îî‚îÄ‚îÄ .gitlab-ci.yml
‚îî‚îÄ‚îÄ README.md
```

### –ö–æ–º–∞–Ω–¥–∏ –¥–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è
```bash
# 1. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è namespace
kubectl apply -f infrastructure/kubernetes/namespaces/

# 2. –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
kubectl apply -f infrastructure/kubernetes/database/

# 3. –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è backend
kubectl apply -f infrastructure/kubernetes/backend/

# 4. –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è frontend
kubectl apply -f infrastructure/kubernetes/frontend/

# 5. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Ingress
kubectl apply -f infrastructure/kubernetes/ingress/

# 6. –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É
kubectl apply -f infrastructure/kubernetes/monitoring/

# 7. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É
kubectl get all --all-namespaces
kubectl get ingress --all-namespaces
kubectl get pv,pvc --all-namespaces
```

–¶–µ–π –ø–ª–∞–Ω –¥–∞—Å—Ç—å –≤–∞–º **–ø–æ–≤–Ω–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è Kubernetes** —Ç–∞ **–ø—Ä–∞–∫—Ç–∏—á–Ω—ñ –Ω–∞–≤–∏—á–∫–∏** –¥–ª—è —Ä–æ–±–æ—Ç–∏ –≤ production —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ! üöÄ 